apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    io.kompose.service: jhipster-registry
  name: jhipster-registry
spec:
  replicas: 1
  selector:
    matchLabels:
      io.kompose.service: jhipster-registry
  strategy:
    type: Recreate
  template:
    metadata:

      creationTimestamp: null
      labels:
        io.kompose.service: jhipster-registry
    spec:
      containers:
        - env:
            - name: JHIPSTER_REGISTRY_PASSWORD
              value: admin
            - name: SPRING_CLOUD_CONFIG_SERVER_COMPOSITE_0_TYPE
              value: native
            - name: SPRING_PROFILES_ACTIVE
              value: dev,swagger,uaa
            - name: SPRING_SECURITY_USER_PASSWORD
              value: admin
            - name: _JAVA_OPTIONS
              value: -Xmx512m -Xms512m
            - name: SPRING_CLOUD_CONFIG_SERVER_COMPOSITE_0_TYPE
              value: native
            - name:  SPRING_RABBITMQ_HOST
              value: rabbit
            - name: APPLICATION_STOMP-HOST
              value: rabbit
            - name: APPLICATION_STOMP-PORT
              value: "61613"
            - name: APPLICATION_STOMP-USER
              value: angage
            - name: APPLICATION_STOMP-PASSWORD
              value: angage
            - name: APPLICATION_STOMP-VHOST
              value: angage
            - name: SPRING_CLOUD_INETUTILS_PREFERRED-NETWORKS
              value: "10.0"
            - name: SPRING_CLOUD_CONFIG_SERVER_COMPOSITE_0_SEARCH_LOCATIONS
              value: "file:./central-config"
          image: jhipster/jhipster-registry:v4.1.1
          name: jhipster-registry
          ports:
            - containerPort: 8761
          resources: 
            requests:
              cpu: 50m
              memory: 64Mi
            limits:
              cpu: 100m
              memory: 512Mi            
          resources: {}
          volumeMounts:
            - mountPath: /central-config
              name: central-jhipster-config
      restartPolicy: Always
      volumes:
        - name: central-jhipster-config
          configMap:
            name: central-jhipster-config
status: {}